{"ast":null,"code":"var _jsxFileName = \"/Users/aimen/real-time-stuff/front-side/src/component/sideBar.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport './sideBar.css';\nimport img from '../img.png';\nimport socket from '../global';\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SideBar() {\n  _s();\n\n  const [isVisible, setVisible] = useState(true);\n  const [userCount, setUserCount] = useState(0);\n  const [usersConntected, setUsersConntected] = useState([]);\n  const messagesEndRef = useRef(null);\n  let initialState = null;\n  useEffect(() => {\n    usersCount();\n  }, []);\n  useEffect(() => {\n    connectUser();\n    scrollToBottom();\n  }, []);\n  useEffect(() => {\n    disconnectedUser();\n    scrollToBottom();\n  }, []);\n\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  };\n\n  function connectUser() {\n    socket.on(\"sendUser2\", user => {\n      initialState = user;\n      setUsersConntected(val => [...val, initialState + \" has conneted\"]);\n    }, [initialState]);\n    setVisible(false);\n    timeout(1000);\n    setVisible(true);\n  }\n\n  function disconnectedUser() {\n    socket.on(\"disconnectedUser\", user => {\n      setUsersConntected(val => [...val, user + \" has DisConnected\"]);\n      initialState = user;\n    });\n  }\n\n  function usersCount() {\n    socket.on(\"sendUserCount\", value => {\n      setUserCount(value); //setVisible(!isVisible);\n    });\n    console.log('i fire once');\n  }\n\n  function timeout(number) {\n    return new Promise(res => setTimeout(res, number));\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"sidebar\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"img-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: img,\n        alt: \"img\",\n        className: \"img\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"big\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pressence-container\",\n      children: [userCount === null ? 0 : userCount, \" Users Connected\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 18\n    }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n      children: isVisible && /*#__PURE__*/_jsxDEV(motion.div, {\n        onTap: () => setVisible(!isVisible),\n        style: {\n          width: 40,\n          height: 40,\n          borderRadius: 15,\n          backgroundColor: \"#fff\"\n        },\n        initial: {\n          opacity: 0,\n          scale: 0.75\n        },\n        animate: {\n          opacity: 1,\n          scale: 1\n        },\n        exit: {\n          opacity: 0,\n          scale: 0\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"notification-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Notifcations\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }, this), usersConntected === null ? /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 49\n      }, this) : usersConntected.map(index => index.includes('DisConnected') ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: \"10px\",\n          backgroundColor: \"#f28787\"\n        },\n        children: index\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: \"10px\",\n          backgroundColor: \"rgb(255, 217, 254)\"\n        },\n        children: index\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 25\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef,\n        children: \" \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SideBar, \"gEOPLJ2NELW9ll18eo+7Kw73de8=\");\n\n_c = SideBar;\nexport default SideBar;\n\nvar _c;\n\n$RefreshReg$(_c, \"SideBar\");","map":{"version":3,"sources":["/Users/aimen/real-time-stuff/front-side/src/component/sideBar.js"],"names":["React","useState","useEffect","useRef","img","socket","motion","AnimatePresence","SideBar","isVisible","setVisible","userCount","setUserCount","usersConntected","setUsersConntected","messagesEndRef","initialState","usersCount","connectUser","scrollToBottom","disconnectedUser","current","scrollIntoView","behavior","on","user","val","timeout","value","console","log","number","Promise","res","setTimeout","width","height","borderRadius","backgroundColor","opacity","scale","map","index","includes","marginTop"],"mappings":"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","sourcesContent":["import React,{useState, useEffect, useRef}from 'react';\nimport './sideBar.css';\nimport img from '../img.png';\nimport socket from '../global';\n\nimport { motion, AnimatePresence } from \"framer-motion\";\n\n\nfunction SideBar() {\n    const [isVisible, setVisible] = useState(true);\n    const[userCount, setUserCount] = useState(0);\n    const[usersConntected, setUsersConntected] = useState([]);\n    const messagesEndRef = useRef(null)\n    let initialState = null;\n\n    useEffect(() => {\n        usersCount();\n    }, []);\n\n    useEffect(() => {\n        connectUser();\n        scrollToBottom();\n    }, []);\n\n    useEffect(() => {\n        disconnectedUser();\n        scrollToBottom();\n    }, []);\n\n    const scrollToBottom = () => {\n        messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" })\n      }\n    \n    function connectUser() {\n        socket.on(\"sendUser2\", (user) => {\n            initialState = user;\n            setUsersConntected((val) => [...val, initialState + \" has conneted\"]);\n        },[initialState]);\n         setVisible(false);\n         timeout(1000);\n         setVisible(true);\n    }\n\n    function disconnectedUser(){\n        socket.on(\"disconnectedUser\", (user) => {\n            setUsersConntected((val) => [...val, user + \" has DisConnected\"]);\n            initialState = user;\n        \n            });\n    }\n\n    function usersCount(){\n        socket.on(\"sendUserCount\", (value) => {\n            setUserCount(value);\n            //setVisible(!isVisible);\n         });\n         console.log('i fire once');\n    }\n    \n\n    function timeout(number) {\n        return new Promise( res => setTimeout(res, number));\n    }\n    \n\n    return (\n        <div className='sidebar'>\n                <div className=\"img-container\">\n                    <img src={img} alt='img' className='img'/>\n                    <p>big</p>\n                 </div>\n\n                 <div className='pressence-container'>{userCount === null ? 0 : userCount} Users Connected</div>\n                <AnimatePresence>\n                    {isVisible && (\n                        <motion.div\n                        onTap={() => setVisible(!isVisible)}\n                            style={{\n                            width: 40,\n                            height: 40,\n                            borderRadius: 15,\n                            backgroundColor: \"#fff\"\n                            }}\n                            initial={{ opacity: 0, scale: 0.75 }}\n                            animate={{ opacity: 1, scale: 1 }}\n                            exit={{ opacity: 0, scale: 0 }}\n                        />\n                    )}\n                </AnimatePresence>\n\n                <div className='notification-container'>\n                    <p>Notifcations</p>\n                    {usersConntected === null ? <div/> : \n                    usersConntected.map((index) => (index.includes('DisConnected') ?\n                        <div\n                        style={{\n                        marginTop: \"10px\",\n                        backgroundColor: \"#f28787\",\n                        }}\n                        >{index}</div>\n                        :\n                        <div\n                        style={{\n                        marginTop: \"10px\",\n                        backgroundColor: \"rgb(255, 217, 254)\",\n                        }}\n                        >{index}</div>\n\n                    ))\n                    }\n                    <div ref={messagesEndRef}> </div>\n                </div>\n            \n        </div>\n    );\n}\n\nexport default SideBar;"]},"metadata":{},"sourceType":"module"}
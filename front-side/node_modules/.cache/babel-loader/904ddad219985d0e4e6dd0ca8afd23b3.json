{"ast":null,"code":"var _jsxFileName = \"/Users/aimen/real-time-stuff/front-side/src/component/sideBar.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport './sideBar.css';\nimport img from '../img.png';\nimport socket from '../global';\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SideBar() {\n  _s();\n\n  const [isVisible, setVisible] = useState(true);\n  const [userCount, setUserCount] = useState(0);\n  const [usersConntected, setUsersConntected] = useState([]);\n  const messagesEndRef = /*#__PURE__*/React.createRef();\n  let initialState = null;\n  useEffect(() => {\n    usersCount();\n  }, []);\n  useEffect(() => {\n    connectUser();\n    scrollToBottom();\n  }, []);\n  useEffect(() => {\n    disconnectedUser();\n    scrollToBottom();\n  }, []);\n\n  function scrollToBottom() {\n    messagesEndRef.current.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }\n\n  function connectUser() {\n    socket.on(\"sendUser2\", user => {\n      initialState = user;\n      setUsersConntected(val => [...val, initialState + \" has conneted\"]);\n    }, [initialState]);\n    setVisible(false);\n    timeout(1000);\n    setVisible(true);\n  }\n\n  function disconnectedUser() {\n    socket.on(\"disconnectedUser\", user => {\n      setUsersConntected(val => [...val, user + \" has DisConnected\"]);\n      initialState = user;\n    });\n  }\n\n  function usersCount() {\n    socket.on(\"sendUserCount\", value => {\n      setUserCount(value); //setVisible(!isVisible);\n    });\n    console.log('i fire once');\n  }\n\n  function timeout(number) {\n    return new Promise(res => setTimeout(res, number));\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"sidebar\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"img-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: img,\n        alt: \"img\",\n        className: \"img\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"big\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pressence-container\",\n      children: [userCount === null ? 0 : userCount, \" Users Connected\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 18\n    }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n      style: {\n        width: 75,\n        height: 75,\n        borderRadius: 30,\n        backgroundColor: \"rgba(255,255,255,0.5)\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        cursor: \"pointer\"\n      },\n      onTap: () => setVisible(!isVisible),\n      children: /*#__PURE__*/_jsxDEV(AnimatePresence, {\n        children: isVisible && /*#__PURE__*/_jsxDEV(motion.div, {\n          style: {\n            width: 40,\n            height: 40,\n            borderRadius: 15,\n            backgroundColor: \"#fff\"\n          },\n          initial: {\n            opacity: 0,\n            scale: 0.75\n          },\n          animate: {\n            opacity: 1,\n            scale: 1\n          },\n          exit: {\n            opacity: 0,\n            scale: 0\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 18\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"notification-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Notifcations\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }, this), usersConntected === null ? /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 49\n      }, this) : usersConntected.map(index => index.includes('DisConnected') ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: \"10px\",\n          backgroundColor: \"#f28787\"\n        },\n        children: index\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: \"10px\",\n          backgroundColor: \"rgb(255, 217, 254)\"\n        },\n        children: index\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 25\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef,\n        children: \"wowyy\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SideBar, \"O+eLZQAjS2+DvrfE0wS1cEi3P8A=\");\n\n_c = SideBar;\nexport default SideBar;\n\nvar _c;\n\n$RefreshReg$(_c, \"SideBar\");","map":{"version":3,"sources":["/Users/aimen/real-time-stuff/front-side/src/component/sideBar.js"],"names":["React","useState","useEffect","img","socket","motion","AnimatePresence","SideBar","isVisible","setVisible","userCount","setUserCount","usersConntected","setUsersConntected","messagesEndRef","createRef","initialState","usersCount","connectUser","scrollToBottom","disconnectedUser","current","scrollIntoView","behavior","on","user","val","timeout","value","console","log","number","Promise","res","setTimeout","width","height","borderRadius","backgroundColor","display","justifyContent","alignItems","cursor","opacity","scale","map","index","includes","marginTop"],"mappings":"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","sourcesContent":["import React,{useState, useEffect}from 'react';\nimport './sideBar.css';\nimport img from '../img.png';\nimport socket from '../global';\n\nimport { motion, AnimatePresence } from \"framer-motion\";\n\n\nfunction SideBar() {\n    const [isVisible, setVisible] = useState(true);\n    const[userCount, setUserCount] = useState(0);\n    const[usersConntected, setUsersConntected] = useState([]);\n    const messagesEndRef = React.createRef()\n    let initialState = null;\n\n    useEffect(() => {\n        usersCount();\n    }, []);\n\n    useEffect(() => {\n        connectUser();\n        scrollToBottom();\n    }, []);\n\n    useEffect(() => {\n        disconnectedUser();\n        scrollToBottom();\n    }, []);\n\n    function scrollToBottom (){\n        messagesEndRef.current.scrollIntoView({ behavior: 'smooth' })\n      }\n    \n    function connectUser() {\n        socket.on(\"sendUser2\", (user) => {\n            initialState = user;\n            setUsersConntected((val) => [...val, initialState + \" has conneted\"]);\n        },[initialState]);\n         setVisible(false);\n         timeout(1000);\n         setVisible(true);\n    }\n\n    function disconnectedUser(){\n        socket.on(\"disconnectedUser\", (user) => {\n            setUsersConntected((val) => [...val, user + \" has DisConnected\"]);\n            initialState = user;\n        \n            });\n    }\n\n    function usersCount(){\n        socket.on(\"sendUserCount\", (value) => {\n            setUserCount(value);\n            //setVisible(!isVisible);\n         });\n         console.log('i fire once');\n    }\n    \n\n    function timeout(number) {\n        return new Promise( res => setTimeout(res, number));\n    }\n    \n\n    return (\n        <div className='sidebar'>\n                <div className=\"img-container\">\n                    <img src={img} alt='img' className='img'/>\n                    <p>big</p>\n                 </div>\n\n                 <div className='pressence-container'>{userCount === null ? 0 : userCount} Users Connected</div>\n                 <motion.div\n                    style={{\n                    width: 75,\n                    height: 75,\n                    borderRadius: 30,\n                    backgroundColor: \"rgba(255,255,255,0.5)\",\n                    display: \"flex\",\n                    justifyContent: \"center\",\n                    alignItems: \"center\",\n                    cursor: \"pointer\"\n                    }}\n                    onTap={() => setVisible(!isVisible)}\n                >\n                <AnimatePresence>\n                    {isVisible && (\n                        <motion.div\n                            style={{\n                            width: 40,\n                            height: 40,\n                            borderRadius: 15,\n                            backgroundColor: \"#fff\"\n                            }}\n                            initial={{ opacity: 0, scale: 0.75 }}\n                            animate={{ opacity: 1, scale: 1 }}\n                            exit={{ opacity: 0, scale: 0 }}\n                        />\n                    )}\n                </AnimatePresence>\n                </motion.div>\n\n                <div className='notification-container'>\n                    <p>Notifcations</p>\n                    {usersConntected === null ? <div/> : \n                    usersConntected.map((index) => (index.includes('DisConnected') ?\n                        <div\n                        style={{\n                        marginTop: \"10px\",\n                        backgroundColor: \"#f28787\",\n                        }}\n                        >{index}</div>\n                        :\n                        <div\n                        style={{\n                        marginTop: \"10px\",\n                        backgroundColor: \"rgb(255, 217, 254)\",\n                        }}\n                        >{index}</div>\n\n                    ))\n                    }\n                    <div ref={messagesEndRef}>wowyy</div>\n                </div>\n            \n        </div>\n    );\n}\n\nexport default SideBar;"]},"metadata":{},"sourceType":"module"}